{"version":3,"sources":["scripts/controllers/user-controller.js"],"names":["controllers","getRegister","ctx","loadPartials","header","footer","then","partial","catch","err","console","log","registerUser","email","params","password","userService","register","res","redirect","getLogin","loginUser","login","saveToken","logoutUser","logout"],"mappings":"AAAAA,WAAW,CAACC,WAAZ,GAA0B,UAASC,GAAT,EAAc;AACtCA,EAAAA,GAAG,CAACC,YAAJ,CAAiB;AACfC,IAAAA,MAAM,EAAE,+BADO;AAEfC,IAAAA,MAAM,EAAE;AAFO,GAAjB,EAGGC,IAHH,CAGQ,YAAY;AAClB,SAAKC,OAAL,CAAa,mCAAb;AACD,GALD,EAKGC,KALH,CAKS,UAAUC,GAAV,EAAe;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,GAPD;AAQD,CATD;;AAWAT,WAAW,CAACY,YAAZ,GAA2B,UAAUV,GAAV,EAAe;AACxC,MAAIW,KAAK,GAAGX,GAAG,CAACY,MAAJ,CAAWD,KAAvB;AACA,MAAIE,QAAQ,GAAGb,GAAG,CAACY,MAAJ,CAAWC,QAA1B;AAEAC,EAAAA,WAAW,CAACC,QAAZ,CAAqBJ,KAArB,EAA4BE,QAA5B,EAAsCT,IAAtC,CAA2C,UAACY,GAAD,EAAS;AAClDR,IAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACAhB,IAAAA,GAAG,CAACiB,QAAJ,CAAa,QAAb;AACD,GAHD,EAGGX,KAHH,CAGS,UAAUC,GAAV,EAAe;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,GALD;AAMD,CAVD;;AAYAT,WAAW,CAACoB,QAAZ,GAAuB,UAASlB,GAAT,EAAc;AACnCQ,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAT,EAAAA,GAAG,CAACC,YAAJ,CAAiB;AACfC,IAAAA,MAAM,EAAE,+BADO;AAEfC,IAAAA,MAAM,EAAE;AAFO,GAAjB,EAGGC,IAHH,CAGQ,YAAW;AACjB,SAAKC,OAAL,CAAa,gCAAb;AACD,GALD,EAKGC,KALH,CAKS,UAAUC,GAAV,EAAe;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,GAPD;AAQD,CAVD;;AAYAT,WAAW,CAACqB,SAAZ,GAAwB,UAASnB,GAAT,EAAc;AACpC,MAAIW,KAAK,GAAGX,GAAG,CAACY,MAAJ,CAAWD,KAAvB;AACA,MAAIE,QAAQ,GAAGb,GAAG,CAACY,MAAJ,CAAWC,QAA1B;AAEAC,EAAAA,WAAW,CAACM,KAAZ,CAAkBT,KAAlB,EAAyBE,QAAzB,EAAmCT,IAAnC,CAAwC,UAACY,GAAD,EAAS;AAC/CR,IAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACAF,IAAAA,WAAW,CAACO,SAAZ,CAAsBL,GAAtB;AACAhB,IAAAA,GAAG,CAACiB,QAAJ,CAAa,QAAb;AACD,GAJD,EAIGX,KAJH,CAIS,UAAUC,GAAV,EAAe;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,GAND;AAOD,CAXD;;AAaAT,WAAW,CAACwB,UAAZ,GAAyB,UAAStB,GAAT,EAAc;AACrCc,EAAAA,WAAW,CAACS,MAAZ;AACAvB,EAAAA,GAAG,CAACiB,QAAJ,CAAa,QAAb;AACD,CAHD","file":"user-controller.fe19db41.js","sourceRoot":"..","sourcesContent":["controllers.getRegister = function(ctx) {\r\n  ctx.loadPartials({\r\n    header: '../../views/shared/header.hbs',\r\n    footer: '../../views/shared/footer.hbs'\r\n  }).then(function () {\r\n    this.partial('../../views/user/registerPage.hbs');\r\n  }).catch(function (err) {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\ncontrollers.registerUser = function (ctx) {\r\n  let email = ctx.params.email;\r\n  let password = ctx.params.password;\r\n\r\n  userService.register(email, password).then((res) => {\r\n    console.log(res);\r\n    ctx.redirect('#/home');\r\n  }).catch(function (err) {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\ncontrollers.getLogin = function(ctx) {\r\n  console.log('login');\r\n  ctx.loadPartials({\r\n    header: '../../views/shared/header.hbs',\r\n    footer: '../../views/shared/footer.hbs'\r\n  }).then(function (){\r\n    this.partial('../../views/user/loginPage.hbs');\r\n  }).catch(function (err) {\r\n    console.log(err);\r\n  })\r\n}\r\n\r\ncontrollers.loginUser = function(ctx) {\r\n  let email = ctx.params.email;\r\n  let password = ctx.params.password;\r\n\r\n  userService.login(email, password).then((res) => {\r\n    console.log(res);\r\n    userService.saveToken(res);\r\n    ctx.redirect('#/home');\r\n  }).catch(function (err) {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\ncontrollers.logoutUser = function(ctx) {\r\n  userService.logout();\r\n  ctx.redirect('#/home');\r\n}\r\n\r\n"]}